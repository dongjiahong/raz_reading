# ZenRead PDF

A minimalist, local-first PDF reader with built-in history management. It processes PDFs entirely in the browser using IndexedDB and `react-pdf`.

## Prerequisites

*   **Node.js & npm/yarn/pnpm**: Required for building the project locally.

## Deployment Options

### 1. Static Hosting (Vercel, Netlify, GitHub Pages)

Since this is a Single Page Application (SPA) using Vite, it can be deployed to any static host.

**Vercel (Recommended)**

1.  Push your code to a GitHub/GitLab repository.
2.  Log in to Vercel and "Add New Project".
3.  Select your repository.
4.  Vercel automatically detects Vite.
5.  Click **Deploy**.

**Netlify**

1.  Push code to Git.
2.  "New site from Git" in Netlify.
3.  Build command: `npm run build` (or `vite build`).
4.  Publish directory: `dist`.

### 2. Self-Hosting with Nginx (Docker/VPS)

If you are hosting this on your own server or using Docker, you should serve the static files generated by the build process.

1.  **Build the project**:
    ```bash
    npm install
    npm run build
    ```
    This will create a `dist` folder containing your static assets.

2.  **Nginx Configuration**:
    Use the following configuration to serve the application. It handles client-side routing (redirecting unknown paths to index.html) and enables compression.

    ```nginx
    server {
        listen 80;
        server_name your-domain.com;

        # Point this to the absolute path of your 'dist' folder
        root /var/www/zenread/dist;
        index index.html;

        # Optimization: Gzip Compression
        gzip on;
        gzip_vary on;
        gzip_proxied any;
        gzip_comp_level 6;
        gzip_types text/plain text/css text/xml application/json application/javascript application/rss+xml application/atom+xml image/svg+xml;

        # Main App Routing
        location / {
            # First attempt to serve request as file, then
            # as directory, then fall back to displaying index.html
            # This is crucial for SPA routing to work on refresh
            try_files $uri $uri/ /index.html;
        }

        # Cache Static Assets (Images, Fonts, JS, CSS)
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
            expires 1y;
            add_header Cache-Control "public, no-transform";
        }
    }
    ```

### 3. Local Development

1.  Install dependencies:
    ```bash
    npm install
    ```
2.  Start the server:
    ```bash
    npm run dev
    ```

## Technical Notes

*   **PDF Worker**: The application is configured (`constants.ts`) to load the PDF.js worker from a CDN (`unpkg.com`) to ensure compatibility with various build systems without complex Webpack/Vite worker configuration.
*   **IndexedDB**: All PDF files are stored in the user's browser (IndexedDB). If the user clears their browser cache/data, their library will be lost.
*   **PWA (Optional)**: While this project is currently a standard web app, the local-first architecture makes it a great candidate for Progressive Web App (PWA) features in the future.